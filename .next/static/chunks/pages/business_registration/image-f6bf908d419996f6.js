(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{5112:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/business_registration/image",function(){return n(4585)}])},3796:function(e,t,n){"use strict";var s=n(5893),a=n(7857),i=n(3082),r=n.n(i);t.Z=function(e){let{count:t,time:n}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.ZP,{end:t,duration:n,children:e=>{let{countUpRef:t,start:n}=e;return(0,s.jsx)(r(),{onChange:n,delayedCall:!0,children:(0,s.jsx)("span",{ref:t,children:"count"})})}})})}},4585:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(5893),a=n(7294),i=n(7293);n(3796);var r=n(1163);n(5675),n(3951);var l=n(4053);let c=e=>{let{session:t}=e;(0,r.useRouter)();let[n,c]=(0,a.useState)(!1),u=(0,l.useSupabaseClient)(),[d,o]=(0,a.useState)(null),h=(0,l.useUser)(),[g,f]=(0,a.useState)(!0),[x,m]=(0,a.useState)("");async function p(){try{f(!0);let{data:e,error:t,status:n}=await u.from("business_applicant").select("signature").eq("id",h.id).single();if(t&&406!==n)throw t;e&&m(e.signature)}catch(e){alert("Error loading data!"),console.log(e)}finally{f(!1)}}async function b(e){let{signature:t}=e;try{f(!0);let e={id:h.id,signature:t,updated_at:new Date().toISOString()},{error:n}=await u.from("business_applicant").upsert(e);if(n)throw n;alert("Updated!")}catch(e){alert("Error updating the data!"),console.log(e)}finally{f(!1)}}return(0,a.useEffect)(()=>{p()},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{children:(0,s.jsx)("section",{className:"px-4 py-12 bg-gray-100",children:(0,s.jsxs)("div",{className:"container mx-auto",children:[(0,s.jsx)("h1",{className:"mb-4 text-3xl font-bold text-gray-800",children:"Image Testing"}),(0,s.jsx)("p",{className:"mb-6 text-gray-700",children:"Please select whether you want to register your business at the central or district level:"}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"grid grid-cols-1 mt-10 gap-x-6 gap-y-8 sm:grid-cols-12"})}),(0,s.jsxs)("div",{className:"form-widget",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"block button primary",onClick:()=>b({signatureUri:x}),disabled:g,children:g?"Loading ...":"Update"})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"block button",onClick:()=>u.auth.signOut(),children:"Sign Out"})})]})]})})})})};var u=c}},function(e){e.O(0,[449,590,655,348,293,774,888,179],function(){return e(e.s=5112)}),_N_E=e.O()}]);